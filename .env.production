# SoulMatting Platform - Production Environment Configuration
# Author: Kim Hsiao
# Version: 1.0.0
# Created: 2024-01-20
# Last Updated: 2024-01-20
# Production environment configuration
# IMPORTANT: Replace all placeholder values with actual production values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
APP_NAME=SoulMatting
APP_VERSION=1.0.0
APP_ENV=production
LOG_LEVEL=info

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL (Production)
POSTGRES_HOST=your-production-db-host
POSTGRES_PORT=5432
POSTGRES_DB=soulmatting_prod
POSTGRES_USER=soulmatting_user
POSTGRES_PASSWORD=your-secure-database-password
DATABASE_URL=postgres://soulmatting_user:your-secure-database-password@your-production-db-host:5432/soulmatting_prod
DATABASE_SSL=true
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20

# Redis (Production)
REDIS_HOST=your-production-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0
REDIS_URL=redis://:your-secure-redis-password@your-production-redis-host:6379

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://your-project-ref.supabase.co
ANON_KEY=your-production-anon-key
SERVICE_ROLE_KEY=your-production-service-role-key

# GoTrue (Auth)
SITE_URL=https://yourdomain.com
DISABLE_SIGNUP=false
JWT_SECRET=your-production-super-secret-jwt-token-with-at-least-32-characters-long
JWT_EXPIRY=3600
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false
SMTP_ADMIN_EMAIL=admin@yourdomain.com
SMTP_HOST=your-smtp-host
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password
SMTP_SENDER_NAME=SoulMatting

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# AWS S3 (Production)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
STORAGE_S3_BUCKET=soulmatting-prod
STORAGE_S3_REGION=us-west-2
FILE_SIZE_LIMIT=52428800

# MinIO (if using self-hosted)
MINIO_ROOT_USER=your-minio-root-user
MINIO_ROOT_PASSWORD=your-secure-minio-password

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Frontend
VITE_SUPABASE_URL=https://your-project-ref.supabase.co
VITE_SUPABASE_ANON_KEY=your-production-anon-key
VITE_API_URL=https://api.yourdomain.com
VITE_STORAGE_URL=https://storage.yourdomain.com
VITE_REALTIME_URL=wss://realtime.yourdomain.com
VITE_APP_ENV=production

# Kong API Gateway
KONG_HTTP_PORT=80
KONG_HTTPS_PORT=443
KONG_ADMIN_PORT=8001
KONG_ADMIN_GUI_PORT=8002

# =============================================================================
# MICROSERVICES PORTS (Production)
# =============================================================================
WEB_PORT=3000
AUTH_SERVICE_PORT=3002
COMMUNICATION_SERVICE_PORT=3003
MATCH_SERVICE_PORT=3004
MEDIA_SERVICE_PORT=3005
NOTIFICATION_SERVICE_PORT=3006
SEARCH_SERVICE_PORT=3007
USER_SERVICE_PORT=3008
GOTRUE_PORT=9999
REALTIME_PORT=4000
POSTGREST_PORT=3001
STORAGE_PORT=5000
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=your-production-super-secret-refresh-token-with-at-least-32-characters-long
REFRESH_TOKEN_EXPIRES_IN=30d

# Encryption
ENCRYPTION_KEY=your-production-32-character-encryption-key
HASH_SALT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
SSL_CERT_PATH=/etc/ssl/certs/cert.pem
SSL_KEY_PATH=/etc/ssl/private/key.pem
HSTS_MAX_AGE=31536000
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' wss: https:;"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=combined
LOG_FILE_PATH=/var/log/soulmatting/app.log
LOG_MAX_SIZE=50m
LOG_MAX_FILES=10

# Health Checks
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# EXTERNAL SERVICES (Production)
# =============================================================================
# Email Service (Production SMTP)
SMTP_FROM_EMAIL=noreply@yourdomain.com
SMTP_FROM_NAME=SoulMatting

# OAuth Providers (Production keys)
GOOGLE_CLIENT_ID=your-production-google-client-id
GOOGLE_CLIENT_SECRET=your-production-google-client-secret
FACEBOOK_APP_ID=your-production-facebook-app-id
FACEBOOK_APP_SECRET=your-production-facebook-app-secret
APPLE_CLIENT_ID=your-production-apple-client-id
APPLE_TEAM_ID=your-production-apple-team-id
APPLE_KEY_ID=your-production-apple-key-id
APPLE_PRIVATE_KEY=your-production-apple-private-key

# Push Notifications
FCM_SERVER_KEY=your-production-fcm-server-key
APNS_KEY_ID=your-production-apns-key-id
APNS_TEAM_ID=your-production-apns-team-id
APNS_PRIVATE_KEY=your-production-apns-private-key

# Analytics
GOOGLE_ANALYTICS_ID=your-production-google-analytics-id
MIXPANEL_TOKEN=your-production-mixpanel-token

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=your-production-sentry-dsn
SENTRY_ENVIRONMENT=production

# New Relic (Performance Monitoring)
NEW_RELIC_LICENSE_KEY=your-production-new-relic-license-key
NEW_RELIC_APP_NAME=SoulMatting-Production

# DataDog (if using)
DATADOG_API_KEY=your-production-datadog-api-key
DATADOG_APP_KEY=your-production-datadog-app-key

# =============================================================================
# API DOCUMENTATION
# =============================================================================
SWAGGER_TITLE=SoulMatting API
SWAGGER_DESCRIPTION=SoulMatting Platform API Documentation
SWAGGER_VERSION=1.0.0
SWAGGER_PATH=api/docs

# =============================================================================
# PRODUCTION FLAGS
# =============================================================================
DEV_MODE=false
DEBUG_MODE=false
ENABLE_SWAGGER=false
ENABLE_CORS=true
ENABLE_LOGGING=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_S3_BUCKET=soulmatting-backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# =============================================================================
# CDN CONFIGURATION
# =============================================================================
CDN_URL=https://cdn.yourdomain.com
CDN_API_KEY=your-cdn-api-key

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_ENABLED=true

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================
# Auto-scaling settings
MIN_INSTANCES=2
MAX_INSTANCES=10
CPU_THRESHOLD=70
MEMORY_THRESHOLD=80

# Load balancer
LOAD_BALANCER_ALGORITHM=round_robin
HEALTH_CHECK_PATH=/health

# =============================================================================
# COMPLIANCE & SECURITY
# =============================================================================
# GDPR Compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=2555
ANONYMIZATION_ENABLED=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block

# =============================================================================
# IMPORTANT NOTES
# =============================================================================
# 1. Replace ALL placeholder values with actual production values
# 2. Use a secure secret management service (AWS Secrets Manager, HashiCorp Vault, etc.)
# 3. Regularly rotate all secrets and API keys
# 4. Enable SSL/TLS for all communications
# 5. Set up proper monitoring and alerting
# 6. Configure automated backups
# 7. Implement proper access controls and IAM policies
# 8. Enable audit logging
# 9. Set up disaster recovery procedures
# 10. Conduct regular security audits